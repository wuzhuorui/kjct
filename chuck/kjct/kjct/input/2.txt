1
机器学习装置、激光装置以及机器学习方法

提供 机器 学习 装置、激光 装置以及机器 学习
方法。用于学习单元驱动条件数据的机器学习
装置包括状态量观测部,观测包括来自激光的
光输出检测部、光输出特性记录部和驱动条件
状态量记录部的输出数据的激光装置的状态量,
光输出特性记录部记录驱动电流和光输出特性
的钡定结果的历史,驱动条件状态量记录部记
录单元驱动条件数据的历史和激光装置的状
态量的历史动作结果获取部,获取单元的特
性的预测结果和各单元的光输出特性的测定
结果学习部,将单元驱动条件数据与激光装
置的状态量及单元驱动条件数据的结果相关
联地学习以及意思决定部,参照学习部的学习
结果决定包括剩余寿命的预测结果的单元驱
动条件数据

181163A权利要求书页
各所述激光二极管单元的所述剩余寿命的减少量的总和为所述最小值的规定倍率以下的
条件范围内所述激光装置整体的光电变换效率为大致最大效率的激光二极管单元驱动条
件数据,在所述寿命优先模式中,输出预测为在所述激光装置整体的光电变换效率相对于
最大效率的下降率为规定的下降率以下这一条件范围内各所述激光二极管单元的所述剩
余寿命的减少量的总和为最小值的激光二极管单元驱动条件数据,在所述同时交换模式
中,输出预测为各所述激光二极管单元的所述剩余寿命的减少量与各所述激光二极管单元
的所述剩余寿命成比例的激光二极管单元驱动条件数据。
根据权利要求一中的任一项所述的激光装置,其特征在于,
所述控制部读出由所述意思决定部针对对于所述激光装置的光输出指令而输出并记
录到所述驱动条件状态量记录部的所述激光二极管单元驱动条件数据,向所述电源部、所
述激光光学系统、所述光输出检测部、所述光输出特性记录部输出包括向所述电源部指示
的输出指令数据的所述激光二极管单元驱动条件数据。
根据权利要求一中的任一项所述的激光装置,其特征在于,
存在多个所述激光装置,
设置于各个所述激光装置的多个所述机器学习装置经由通信介质来相互共用或交换
数据。
根据权利要求所述的激光装置,其特征在于,
经由通信介质在多个所述激光装置中共用所述机器学习装置。
一种机器学习方法,学习包括向电源部指示的输出指令数据并至少包括剩余寿命
的预测结果作为各激光二极管单元的特性的预测结果的激光二极管单元驱动条件数据,该
机器学习方法的特征在于,包括以下步骤
观测包括来自所述电源部、一个以上的光输出检测部、光输出特性记录部以及驱动条
件状态量记录部的输出数据的激光装置的状态量,该一个以上的光输出检测部用于测定
光输出,该光输出特性记录部记录根据从所述电源部输出的驱动电流和所述光输出求出的
各所述激光二极管单元的光输出特性的测定结果的历史,该驱动条件状态量记录部记录
激光装置的所述状态量的历史以及从机器学习装置输出的所述激光二极管单元驱动条件
数据的历史,所述激光二极管单元驱动条件数据至少包括剩余寿命的预测结果作为各所述
激光二极管单元的特性的预测结果
接收所述驱动条件状态量记录部中记录的各所述激光二极管单元的特性的预测结果
以及各所述激光二极管单元的光输出特性的测定结果,来作为所述激光二极管单元驱动条
件数据的结果,各所述激光二极管单元的特性的预测结果至少包括各所述激光二极管单元
的剩余寿命的预测结果以及
将包括向所述电源部指示的输出指令数据并至少包括剩余寿命的预测结果作为各所
述激光二极管单元的特性的预测结果的所述激光二极管单元驱动条件数据与所述激光装
置的所述状态量及所述激光二极管单元驱动条件数据的结果相关联地进行学习。
根据权利要求所述的机器学习方法,其特征在于,
从所述机器学习装置输出并记录在所述驱动条件状态量记录部中的所述激光二极管
单元驱动条件数据还包括各所述激光二极管单元的光输出特性的预测结果作为各所述激
光二极管单元的特性的预测结果,
81163A权利要求书页
的误差,其中,对所述第二时间点的预测结果是以所述第一时间点下的估计结果为起点进
行预测得到的,被记录在所述驱动条件状态量记录部中,并且,在所述激光二极管单元驱
动条件数据中包括光输出特性的预测结果作为各所述激光二极管单元的特性的预测结果
的情况下,该误差计算部计算在从所述第一时间点到所述第二时间点为止的期间作为向各
激光二极管单元指示的所述激光二极管单元驱动条件数据的结果而获取到的各所述激光
二极管单元的光输出特性中的、对所述第二时间点的预测结果与所述第二时间点下的测定
结果之间的误差,其中,对所述第二时间点的预测结果是以所述第一时间点下的测定结果
为起点进行预测得到的,被记录在所述驱动条件状态量记录部中,
所述机器学习装置还具备根据由所述误差计算部计算出的所述误差来更新所述学习
模型的学习模型更新部。
一种激光装置,具备根据权利要求一中的任一项所述的机器学习装置,该激光装
置的特征在于,
具备分别对向各所述激光二极管单元提供驱动电流的所述电源部、所述激光光学系
统、所述光输出检测部、所述光输出特性记录部、所述驱动条件状态量记录部进行控制的
控制部。
根据权利要求所述的激光装置,其特征在于,
根据来自所述控制部的指令,按规定的时间表来个别地测定各所述激光二极管单元的
相对于驱动电流的施加电压与光输出的关系,将测定时间点的各所述激光二极管单元的光
输出特性追加写入到所述光输出特性记录部。
根据权利要求或所述的激光装置,其特征在于,
具备多个所述光输出检测部,同时测定多个所述激光二极管单元的所述光输出特性。
根据权利要求一中的任一项所述的激光装置,其特征在于,
所述学习部将参照学习结果而估计出的各激光二极管单元的估计剩余寿命作为所述
激光二极管单元驱动条件数据的结果追加写入到所述驱动条件状态量记录部,所述激光
二极管单元驱动条件数据至少包括剩余寿命的所述预测结果作为各所述激光二极管单元
的特性的预测结果,
将从第三时间点的所述估计剩余寿命减去晚于所述第三时间点的第四时间点的所述
估计剩余寿命所得到的时间作为将从所述第三时间点到所述第四时间点为止的各激光二
极管单元的实际的驱动时间换算为标准驱动条件下的驱动时间所得到的各激光二极管单
元的有效驱动时间,将所述第四时间点下的各激光二极管单元的所述估计剩余寿命作为所
述第四时间点下的各所述激光二极管单元的剩余寿命,来输出或显示。
根据权利要求一中的任一项所述的激光装置,其特征在于,
所述意思决定部设定为选择寿命最优先模式、效率优先模式、寿命优先模式以及同时
交换模式这四个驱动条件模式中的至少一个驱动条件模式的条件或者在所述驱动条件模
式之间切换驱动条件模式的条件,其中,所述意思决定部针对对于所述激光装置的光输出
指令,参照所述学习部的学习结果,输出包括各所述激光二极管单元的剩余寿命和光输出
特性的所述预测结果的所述激光二极管单元驱动条件数据,在所述寿命最优先模式中,输
出预测为因驱动激光二极管单元导致的各所述激光二极管单元的所述剩余寿命的减少量
的总和为最小值的激光二极管单元驱动条件数据,在所述效率优先模式中,输出在预测为
181163A权利要求书页
括剩余寿命的预测结果作为各激光二极管单元的特性的预测结果的激光二极管单元驱动
条件数据的学习结果,来估计所述某个时间点下的各所述激光二极管单元的剩余寿命。
根据权利要求一中的任一项所述的机器学习装置,其特征在于,
在输入到所述状态量观测部的所述激光装置的所述状态量中,包括如下输出数据中的
至少一个输出数据来自对各所述激光二极管单元以及与各所述激光二极管单元热连接的
构件中的至少一方的温度进行检测的一个以上的温度检测部的输出数据来自对用于冷却
各所述激光二极管单元的制冷剂的温度进行检测的制冷剂温度检测部的输出数据来自对
各所述激光二极管单元的环境温度进行检测的环境温度检测部的输出数据来自对所述制
冷剂的流量进行检测的流量检测部的输出数据以及来自对各所述激光二极管单元的环境
湿度进行检测的湿度检测器的输出数据。
根据权利要求一中的任一项所述的机器学习装置,其特征在于,
所述学习部具有价值函数,该价值函数决定至少包括剩余寿命的预测结果作为各所述
激光二极管单元的特性的预测结果的所述激光二极管单元驱动条件数据的价值,
所述机器学习装置还具备报酬计算部,
在从第一时间点到晚于第一时间点的第二时间点为止的期间作为向各激光二极管单
元指示的所述激光二极管单元驱动条件数据的结果而预测或估计出的各所述激光二极管
单元的剩余寿命中的、对所述第二时间点的预测结果与所述第二时间点的估计结果之间的
差异小于规定的值或规定的比率的情况下,该报酬计算部根据差异或比率给予正的报酬,
其中,对所述第二时间点的预测结果是以所述第一时间点下的估计结果为起点进行预测得
到的,被记录在所述驱动条件状态量记录部中,
在所述剩余寿命的预测结果与估计结果之间的差异大于规定的值或规定的比率的情
况下,该报酬计算部根据差异或比率的大小给予负的报酬,
在所述激光二极管单元驱动条件数据包括光输出特性的预测结果作为各所述激光二
极管单元的特性的预测结果的情况下,在从所述第一时间点到所述第二时间点为止的期间
作为向各激光二极管单元指示的所述激光二极管单元驱动条件数据的结果而获取到的各
所述激光二极管单元的光输出特性中的、对所述第二时间点下的预测结果与所述第二时间
点下的测定结果之间的差异小于规定的值或规定的比率的情况下,该报酬计算部根据差异
或比率给予正的报酬,其中,对所述第二时间点的预测结果是以所述第一时间点下的测定
结果为起点进行预测得到的,被记录在所述驱动条件状态量记录部中,
在所述光输出特性的预测结果与测定结果之间的差异大于规定的值或规定的比率的
情况下,该报酬计算部根据差异或比率给予负的报酬,
所述机器学习装置还具备根据所述报酬来更新所述价值函数的价值函数更新部。
根据权利要求一中的任一项所述的机器学习装置,其特征在于,
所述学习部具有学习模型,该学习模型学习至少包括剩余寿命的预测结果作为各所述
激光二极管单元的特性的预测结果的所述激光二极管单元驱动条件数据,
所述机器学习装置还具备误差计算部,
该误差计算部计算在从第一时间点到第二时间点为止的期间作为向各激光二极管单
元指示的所述激光二极管单元驱动条件数据的结果而预测或估计出的各所述激光二极管
单元的剩余寿命中的、对所述第二时间点的预测结果与所述第二时间点下的估计结果之间
一种机器学习装置,用于学习激光装置的激光二极管单元驱动条件数据,所述激光
装置具备多个包括一个以上的激光二极管模块的激光二极管单元、个别地向各激光二极管
单元提供驱动电流的电源部、以及按每个所述激光二极管单元来独立地控制从所述电源部
注入到各所述激光二极管单元的驱动电流的控制部,所述激光装置将来自多个所述激光二
极管单元的激光作为激光光源或用于激光振荡的激励光源,经由激光光学系统来射出激
光,所述激光二极管单元驱动条件数据包括向所述电源部指示的输出指令数据,所述机器
学习装置的特征在于,具备
状态量观测部,其观测包括来自所述电源部、一个以上的光输出检测部、光输出特性记
录部以及驱动条件状态量记录部的输出数据的所述激光装置的状态量,该一个以上的光
输出检测部用于测定激光的光输出,该光输出特性记录部记录根据从所述电源部输出的驱
动电流和所述光输出求出的各所述激光二极管单元的光输出特性的测定结果的历史,该驱
动条件状态量记录部记录所述激光装置的所述状态量的历史以及从所述机器学习装置输
出的所述激光二极管单元驱动条件数据的历史,所述激光二极管单元驱动条件数据至少包
括各激光二极管单元的剩余寿命的预测结果作为各所述激光二极管单元的特性的预测结
果
动作结果获取部,其获取所述驱动条件状态量记录部中记录的各所述激光二极管单
元的特性的预测结果以及各所述激光二极管单元的光输出特性的测定结果,来作为所述激
光二极管单元驱动条件数据的结果,各所述激光二极管单元的特性的预测结果至少包括各
所述激光二极管单元的剩余寿命的预测结果
学习部,其接收来自所述状态量观测部的输出和来自所述动作结果获取部的输出,将
至少包括剩余寿命的预测结果作为各所述激光二极管单元的特性的预测结果的所述激光
二极管单元驱动条件数据与所述激光装置的所述状态量及所述激光二极管单元驱动条件
数据的结果相关联地进行学习以及
意思决定部,其参照所述学习部的学习结果,来决定至少包括剩余寿命的所述预测结
果作为各所述激光二极管单元的特性的预测结果的所述激光二极管单元驱动条件数据。
根据权利要求所述的机器学习装置,其特征在于,
从所述机器学习装置输出并记录在所述驱动条件状态量记录部中的所述激光二极管
单元驱动条件数据还包括各所述激光二极管单元的光输出特性的预测结果作为各所述激
光二极管单元的特性的预测结果,
作为所述激光二极管单元驱动条件数据的结果由所述动作结果获取部获取的数据包
括各所述激光二极管单元的光输出特性的预测结果,
所述学习部将至少包括剩余寿命的预测结果和光输出特性的预测结果作为各所述激
光二极管单元的特性的预测结果的所述激光二极管单元驱动条件数据与所述激光装置的
所述状态量及所述激光二极管单元驱动条件数据的结果相关联地进行学习。
根据权利要求或所述的机器学习装置,其特征在于,
所述学习部具有如下功能基于某个时间点下的各所述激光二极管单元的光输出特
性、所述光输出特性记录部中记录的到所述某个时间点为止的各所述激光二极管单元的光
输出特性的历史、以及所述驱动条件状态量记录部中记录的到所述某个时间点为止的所
述激光二极管单元驱动条件数据的历史和所述激光装置的所述状态量的历史,参照至少包
cNlo7181163A权利要求书页
作为所述激光二极管单元驱动条件数据的结果由动作结果获取部获取的数据包括各
所述激光二极管单元的光输出特性的预测结果,
学习部将至少包括剩余寿命的预测结果和光输出特性的预测结果作为各所述激光二
极管单元的特性的预测结果的所述激光二极管单元驱动条件数据与所述激光装置的所述
状态量及所述激光二极管单元驱动条件数据的结果相关联地进行学习。

说明书页
劣化阂值电流时判定为达到寿命的结束期,没有公开推导出定量性的剩余寿命的方法。
另外,日本特开一号公报没有公开推导出剩余寿命的具体方法。另外,
日本特开一号公报中存在“以使各激光振荡器的输出变为固定的方式”这样的记
载,因此在通过各种光输出条件、也就是说从低输出到高输出、从连续激光输出到脉冲激光
输出的光输出条件来驱动光源的情况下,无法进行准确的寿命预测。
另外,日本特开一号公报中公开的技术仅在光输出为固定的驱动条件
的情况下能够进行寿命预测。并且,日本特开一号公报的技术在半导体激光器的
劣化变得明显而发热量增加之前无法进行寿命预测。
另外,在日本特开一号公报中,在始终进行额定输出的条件下累计运行
时间。因此,在中途以不同的条件运行激光装置的情况下,难以计算出有效的运行时间。
另外,在日本特开一号公报中,使用了劣化后的电流强度特性,因此在劣
化变得明显之前无法估计剩余寿命。另外,在劣化速度加速地变化的情况下,即使处于劣化
变得明显之后,也难以准确地计算剩余寿命。
另外,在日本特开一号公报所公开的技术中,虽然能够掌握到接近了寿
命的终点,但是难以掌握激光装置的定量性的剩余寿命。
并且,在日本特开一号公报中虽然使用了“驱动电流时间积”,但是并不
是驱动电流变为倍寿命就变为。因此,在日本特开一号公报中没有计算出准
确的有效驱动时间,因而也无法求出定量性的剩余寿命。
另外,在光输出、驱动电流或温度等为某个既定标准值的驱动条件、即标准驱动
条件下驱动的情况下,能够大致掌握的终生寿命。而且,也大致能够获知当相对于标准
驱动条件使光输出、驱动电流为几倍时平均的终生寿命会短多少。并且,也大致能够获知
当相对于标准驱动条件使的温度上升多少时平均的终生寿命会短多少。
然而,对于大致相同性能的,在最初以驱动万小时之后以驱动万小时
后的寿命耗尽的情况下,不清楚最初以驱动万小时之后以驱动万小时后的寿
命是否会耗尽。
实际上,在后者的将以驱动万小时之后以驱动时,的寿命在万小时
以内耗尽的可能性高。例如,假设的驱动电流下的平均终生寿命为万小时、的驱动
电流下的平均终生寿命为万小时。在该情况下,并不是的驱动电流下的终生寿命以相
比于的驱动电流下的终生寿命的倍的速度减少。可以认为在现实中,当剩余寿命逐渐
减少时,的劣化速度变快,剩余寿命的减少速度也变得更快。
换言之,以驱动的情况下的寿命初期时的剩余寿命的减少速度小于以驱动
的情况下的剩余寿命的减少速度的倍。而且,以驱动的情况下的寿命后期时的剩余寿
命的减少速度大于以驱动的情况下的剩余寿命的减少速度的倍。因此,就整体的终生
寿命而言,在以驱动的情况与以驱动的情况之间存在倍的差。因此,能够判断为与
最初以驱动万小时后以驱动的情况相比,在最初以驱动万小时后以驱动的
情况下终生寿命更短。
可以认为这种基于驱动电流的增大而产生的剩余寿命减少的加速率不是单纯的
驱动电流的函数,还受温度、周边的湿度等激光装置的状态以及至今为止的驱动条
件的历史所影响。
说明书页
这样,在以某个驱动条件驱动时,至今为止的的驱动历史、驱动时的的状态
等诸关联条件会影响的剩余寿命,因此难以准确地掌握的剩余寿命。因此,存在以下问
题在想要针对某个光输出指令在多个中得到遵循指令的光输出的情况下,无法准确地
获知最好如何对各分配驱动电流以实现作为整体的最长的寿命。而且,在前述的现有技
术中,也无法推导出的准确的剩余寿命。
为了在的驱动条件多样地变化的情况下始终推导出准确的剩余寿命,需要由人
来一边分配各种的驱动历史、激光器状态,一边针对剩余寿命的预测进行反复试验,调查
的驱动历史、激光器状态对的剩余寿命的影响。另外,即使进行这种反复试验,不到寿
命末期也无法确认剩余寿命的估测是否正确。
而且,当寿命末期的剩余寿命的估测精度提高时,能够判定比寿命末期靠前一些
的时间点下的剩余寿命的估测是否正确。因此,为了连寿命初期的剩余寿命也高精度地估
测,需要积累极为庞大的数据,从该庞大的数据中提取预测剩余寿命的方法是非常困难的,
也耗费时间。
本发明是鉴于这种情况而完成的,其目的在于提供一种能够无需人介入地学习包
括各的剩余寿命的预测结果的驱动条件数据使得能够预测因的驱动引起的
的剩余寿命的减少量的机器学习装置、激光装置以及机器学习方法。
为了达到前述的目的,根据第发明,提供一种机器学习装置,用于学习激光装置
的单元驱动条件数据,所述激光装置具备多个包括一个以上的激光二极管模块的单
元、个别地向各单元提供驱动电流的电源部、以及按每个所述单元来独立地控制从所
述电源部注入到各所述单元的驱动电流的控制部,所述激光装置将来自多个所述单元
的激光作为激光光源或用于激光振荡的激励光源,经由激光光学系统来射出激光,所述
单元驱动条件数据包括向所述电源部指示的输出指令数据,所述机器学习装置的特征在
于,具备状态量观测部,其观测包括来自所述电源部、一个以上的光输出检测部、光输出特
性记录部以及驱动条件状态量记录部的输出数据的所述激光装置的状态量,该一个以上
的光输出检测部用于测定激光的光输出,该光输出特性记录部记录根据从所述电源部输出
的驱动电流和所述光输出求出的各所述单元的光输出特性的测定结果的历史,该驱动条
件状态量记录部记录所述激光装置的所述状态量的历史以及从所述机器学习装置输出的
所述单元驱动条件数据的历史,所述单元驱动条件数据至少包括各单元的剩余寿命
的预测结果作为各所述单元的特性的预测结果动作结果获取部,其获取所述驱动条件
状态量记录部中记录的各所述单元的特性的预测结果以及各所述单元的光输出特性
的测定结果,来作为所述单元驱动条件数据的结果,各所述单元的特性的预测结果至
少包括各所述单元的剩余寿命的预测结果学习部,其接收来自所述状态量观测部的输
出和来自所述动作结果获取部的输出,将至少包括剩余寿命的预测结果作为各所述单元
的特性的预测结果的所述单元驱动条件数据与所述激光装置的所述状态量及所述单
元驱动条件数据的结果相关联地进行学习以及意思决定部,其参照所述学习部的学习结
果,来决定至少包括剩余寿命的所述预测结果作为各所述单元的特性的预测结果的所述
单元驱动条件数据。
根据第发明,在第发明中,从所述机器学习装置输出并记录在所述驱动条件状
态量记录部中的所述单元驱动条件数据还包括各所述单元的光输出特性的预测结果
说明书页
作为各所述单元的特性的预测结果,作为所述单元驱动条件数据的结果由所述动作结
果获取部获取的数据包括各所述单元的光输出特性的预测结果,所述学习部将至少包括
乘余寿命的预测结果和光输出特性的预测结果作为各所述单元的特性的预测结果的所
述单元驱动条件数据与所述激光装置的所述状态量及所述单元驱动条件数据的结果
相关联地进行学习。
根据第发明,在第或第发明中,所述学习部具有如下功能基于某个时间点下
的各所述单元的光输出特性、所述光输出特性记录部中记录的到所述某个时间点为止的
各所述单元的光输出特性的历史、以及所述驱动条件状态量记录部中记录的到所述某
个时间点为止的所述单元驱动条件数据的历史和所述激光装置的所述状态量的历史,参
照至少包括剩余寿命的预测结果作为各单元的特性的预测结果的单元驱动条件数据
的学习结果,来估计所述某个时间点下的各所述单元的剩余寿命。
根据第发明,在第至第发明中的任一个发明中,在输入到所述状态量观测部的
所述激光装置的所述状态量中,包括如下输出数据中的至少一个输出数据来自对各所述
单元以及与各所述单元热连接的构件中的至少一方的温度进行检测的一个以上的温
度检测部的输出数据来自对用于冷却各所述单元的制冷剂的温度进行检测的制冷剂温
度检测部的输出数据来自对各所述单元的环境温度进行检测的环境温度检测部的输出
数据来自对所述制冷剂的流量进行检测的流量检测部的输出数据以及来自对各所述
单元的环境湿度进行检测的湿度检测器的输出数据。
根据第发明,在第至第发明中的任一个发明中,所述学习部具有价值函数,该
价值函数决定至少包括剩余寿命的预测结果作为各所述单元的特性的预测结果的所述
单元驱动条件数据的价值,所述机器学习装置还具备报酬计算部,在从第一时间点到晚
于第一时间点的第二时间点为止的期间作为向各单元指示的所述单元驱动条件数据
的结果而预测或估计出的各所述单元的剩余寿命中的、对所述第二时间点的预测结果与
所述第二时间点的估计结果之间的差异小于规定的值或规定的比率的情况下,该报酬计算
部根据差异或比率给予正的报酬,其中,对所述第二时间点的预测结果是以所述第一时间
点下的估计结果为起点进行预测得到的,被记录在所述驱动条件状态量记录部中,在所述
乘余寿命的预测结果与估计结果之间的差异大于规定的值或规定的比率的情况下,该报酬
计算部根据差异或比率的大小给予负的报酬,在所述单元驱动条件数据包括光输出特性
的预测结果作为各所述单元的特性的预测结果的情况下,在从所述第一时间点到所述第
二时间点为止的期间作为向各单元指示的所述单元驱动条件数据的结果而获取到的
各所述单元的光输出特性中的、对所述第二时间点的预测结果与所述第二时间点下的测
定结果之间的差异小于规定的值或规定的比率的情况下,该报酬计算部根据差异或比率给
予正的报酬,其中,对所述第二时间点的预测结果是以所述第一时间点下的测定结果为起
点进行预测得到的,被记录在所述驱动条件状态量记录部中,在所述光输出特性的预测结
果与测定结果之间的差异大于规定的值或规定的比率的情况下,该报酬计算部根据差异或
比率给予负的报酬,所述机器学习装置还具备根据所述报酬来更新所述价值函数的价值函
数更新部。
根据第发明,在第至第发明中的任一个发明中,所述学习部具有学习模型,该
学习模型学习至少包括剩余寿命的预测结果作为各所述单元的特性的预测结果的所述
机器学习装置、激光装置以及机器学习方法
技术领域
本发明涉及一种将大量的激光二极管作为激光光源或者用于激光振荡的激
励光源的激光装置、学习这种激光装置的驱动条件的数据的机器学习装置以及机器学习
方法。
背景技术
在使用的高输出激光装置中,需要大量的。因此,准备多个包括一个以上的
的激光二极管模块。而且,通常来说激光装置具备包括多个、能够独立驱动的多个
激光二极管单元、单元。
在使用的激光装置中,掌握的剩余寿命的意义大,存在多个现有技术的文献。
此外,剩余寿命表示寿命耗尽之前剩余的寿命。但是,剩余寿命有时根据的随后的驱动条
件而发生变化。设本申请说明书中的剩余寿命表示在标准驱动条件下驱动激光装置的情况
下的剩余寿命。
例如,日本特开平一号公报中公开了“将用于发出特定的光输出的驱动电
流值作为基准值,相对于该基准值将其倍的驱动电流作为用于更换发光元件的劣化阂值
电流,来预测上述发光元件的寿命”。
并且,日本特开一号公报中公开了“以使各激光振荡器的输出变为固
定、且所述加工点的功率变为预先决定的规定功率的方式进行控制,并进行激励用的的
寿命预测”。
并且,日本特开一号公报中公开了“制作因半导体激光器的劣化引起
的发热量增加的时间序列数据,基于上述发热量增加的时间序列数据来进行半导体激光器
的寿命预测”。
并且,日本特开一号公报中公开了“使用在功率传感器所输出的信号
满足预先决定的条件的情况下电源对激励光源提供的电流值以及存储器中保存的运行时
间,来估计激励光源的寿命”。
并且,日本特开一号公报中公开了将特性变动量与容许变动量进行比
较,来预测激光光源的更换时期,其中,该特性变动量是因使用而劣化的电流强度特性与理
想特性之差。
并且,日本特开一号公报中公开了“在超过规定的劣化阂值电流的驱动
电流流过激光二极管的时间的累积时间超过按周边温度预先决定的阂值时间的情况下,判
定为激光二极管的寿命快到了”。
并且,日本特开一号公报中公开了通过使用“驱动电流时间积”,“能够
以符合实际状态的形式管理激光二极管元件、、的劣化度”。
发明内容
然而,日本特开平一号公报只是当用于发出特定的光输出的驱动电流超过
说明书页
单元驱动条件数据,所述机器学习装置还具备误差计算部,该误差计算部计算在从第一
时间点到第二时间点为止的期间作为向各单元指示的所述单元驱动条件数据的结果
而预测或估计出的各所述单元的剩余寿命中的、对所述第二时间点的预测结果与所述第
二时间点下的估计结果之间的误差,其中,对所述第二时间点的预测结果是以所述第一时
间点下的估计结果为起点进行预测得到的,被记录在所述驱动条件状态量记录部中,并
且,在所述单元驱动条件数据中包括光输出特性的预测结果作为各所述单元的特性的
预测结果的情况下,该误差计算部计算在从所述第一时间点到所述第二时间点为止的期间
作为向各单元指示的所述单元驱动条件数据的结果而获取到的各所述单元的光输
出特性中的、对所述第二时间点的预测结果与所述第二时间点下的测定结果之间的误差,
其中,对所述第二时间点的预测结果是以所述第一时间点下的测定结果为起点进行预测得
到的,被记录在所述驱动条件状态量记录部中,所述机器学习装置还具备根据由所述误差
计算部计算出的所述误差来更新所述学习模型的学习模型更新部。
〕根据第发明,提供一种激光装置,具备第至第发明中的任一个发明的机器学习
装置,该激光装置的特征在于,具备分别对向各所述单元提供驱动电流的所述电源部、所
述激光光学系统、所述光输出检测部、所述光输出特性记录部、所述驱动条件状态量记录
部进行控制的控制部。
根据第发明,在第发明中,根据来自所述控制部的指令,按规定的时间表来个别
地测定各所述单元的相对于驱动电流的施加电压与光输出的关系,将测定时间点的各所
述单元的光输出特性追加写入到所述光输出特性记录部。
根据第发明,在第或第发明中,具备多个所述光输出检测部,同时测定多个所
述单元的所述光输出特性。
根据第发明,在第至第发明中的任一个发明中,所述学习部将参照学习结果
而估计出的各单元的估计剩余寿命作为所述单元驱动条件数据的结果追加写入到所
述驱动条件状态量记录部,所述单元驱动条件数据至少包括剩余寿命的所述预测结果
作为各所述单元的特性的预测结果,将从第三时间点的所述估计剩余寿命减去晚于所述
第三时间点的第四时间点的所述估计剩余寿命所得到的时间作为将从所述第三时间点到
所述第四时间点为止的各单元的实际的驱动时间换算为标准驱动条件下的驱动时间所
得到的各单元的有效驱动时间,将所述第四时间点下的各单元的所述估计剩余寿命作
为所述第四时间点下的各所述单元的剩余寿命,来输出或显示。
根据第发明,在第至第发明中的任一个发明中,所述意思决定部设定为选择
寿命最优先模式、效率优先模式、寿命优先模式以及同时交换模式这四个驱动条件模式中
的至少一个驱动条件模式的条件或者在所述驱动条件模式之间切换驱动条件模式的条件,
其中,所述意思决定部针对对于所述激光装置的光输出指令,参照所述学习部的学习结果,
输出包括各所述单元的剩余寿命和光输出特性的所述预测结果的所述单元驱动条件
数据,在所述寿命最优先模式中,输出预测为因驱动单元导致的各所述单元的所述剩
余寿命的减少量的总和为最小值的单元驱动条件数据,在所述效率优先模式中,输出在
预测为各所述单元的所述剩余寿命的减少量的总和为所述最小值的规定倍率以下的条
件范围内所述激光装置整体的光电变换效率为大致最大效率的单元驱动条件数据,在所
述寿命优先模式中,输出预测为在所述激光装置整体的光电变换效率相对于最大效率的下
说明书页
降率为规定的下降率以下这一条件范围内各所述单元的所述剩余寿命的减少量的总和
为最小值的单元驱动条件数据,在所述同时交换模式中,输出预测为各所述单元的所
述剩余寿命的减少量与各所述单元的所述剩余寿命成比例的单元驱动条件数据。
根据第发明,在第至第发明中的任一个发明中,所述控制部读出由所述意思
决定部针对对于所述激光装置的光输出指令而输出并记录到所述驱动条件状态量记录部
的所述单元驱动条件数据,向所述电源部、所述激光光学系统、所述光输出检测部、所述
光输出特性记录部输出包括向所述电源部指示的输出指令数据的所述单元驱动条件数
据。
根据第发明,在第至第发明中的任一个发明中,存在多个所述激光装置,设
置于各个所述激光装置的多个所述机器学习装置经由通信介质来相互共用或交换数据。
〕根据第发明,在第发明中,经由通信介质在多个所述激光装置中共用所述机
器学习装置。
〕根据第发明,提供一种机器学习方法,学习包括向电源部指示的输出指令数据
并至少包括剩余寿命的预测结果作为各单元的特性的预测结果的单元驱动条件数据,
该机器学习方法的特征在于,包括以下步骤观测包括来自所述电源部、一个以上的光输出
检测部、光输出特性记录部以及驱动条件状态量记录部的输出数据的激光装置的状态量,
该一个以上的光输出检测部用于测定光输出,该光输出特性记录部记录根据从所述电源部
输出的驱动电流和所述光输出求出的各所述单元的光输出特性的测定结果的历史,该驱
动条件状态量记录部记录激光装置的所述状态量的历史以及从机器学习装置输出的所述
单元驱动条件数据的历史,所述单元驱动条件数据至少包括剩余寿命的预测结果作为
各所述单元的特性的预测结果接收所述驱动条件状态量记录部中记录的各所述单
元的特性的预测结果以及各所述单元的光输出特性的测定结果,来作为所述单元驱动
条件数据的结果,各所述单元的特性的预测结果至少包括各所述单元的剩余寿命的预
测结果以及将包括向所述电源部指示的输出指令数据并至少包括剩余寿命的预测结果作
为各所述单元的特性的预测结果的所述单元驱动条件数据与所述激光装置的所述状
态量及所述单元驱动条件数据的结果相关联地进行学习。
根据第发明,在第发明中,从所述机器学习装置输出并记录在所述驱动条件
状态量记录部中的所述单元驱动条件数据还包括各所述单元的光输出特性的预测结
果作为各所述单元的特性的预测结果,作为所述单元驱动条件数据的结果由动作结果
获取部获取的数据包括各所述单元的光输出特性的预测结果,学习部将至少包括剩余寿
命的预测结果和光输出特性的预测结果作为各所述单元的特性的预测结果的所述单
元驱动条件数据与所述激光装置的所述状态量及所述单元驱动条件数据的结果相关联
地进行学习。
通过附图所示的本发明的典型的实施方式的详细说明,本发明的这些目的、特征
和优点以及其它目的、特征和优点会变得更明确。
附图说明
图是表示本发明的一个实施方式的激光装置的概念性结构的框图。
图是表示实际的驱动时间与对寿命的负荷率之间的关系的图。
说明书页
系的图。
图。
图。
图是示意性地表示数据流的框图。
图是表示温度检测部的配置例的图。
图是示意性地表示数据流的其它框图。
图是示意性地表示数据流的另一框图。
图是表示图所示的机器学习装置的动作的一例的第一流程图。
图是表示图所示的机器学习装置的动作的一例的第二流程图。
图是表示本发明的其它实施方式的激光装置的概念性结构的框图。
图是表示图所示的机器学习装置的动作的一例的第一流程图。
图是表示图所示的机器学习装置的动作的一例的第二流程图。
图是表示本发明的另一实施方式的激光装置的概念性结构的框图。
图是表示的估计出的剩余寿命的变化与预测出的剩余寿命的变化之间的关
图是示意性地表示光输出指令、机器学习装置的处理以及光输出的时间流的
图是示意性地表示神经元的模型的图。
图是示意性地表示将图所示的神经元进行组合而构成的层的神经网络的
具体实施方式
下面,参照附图来说明本发明的实施方式。在下面的附图中,对同样的构件标注同
样的参照标记。对于这些附图适当变更了比例尺以易于理解。
图是表示本发明的一个实施方式的激光装置的概念性结构的框图。本实施方式
的激光装置具备多个激光二极管模块单元、单元,该激光二极管模块单元包括
一个以上的激光二极管模块电源部,其能够个别地向各提供驱动电流控制
部,其能够按每个来独立地控制从电源部注入到各的驱动电流激光光学系
统,其用于将来自多个的激光作为激光光源或者用于激光振荡的激励光源,从激
光装置射出激光光输出检测部,其用于测定激光的光输出光输出特性记录部,其
记录根据从电源部输出的驱动电流和光输出求出的各的光输出特性的测定结果的
历史驱动条件状态量记录部,其记录驱动条件数据的历史以及激光装置的状态量
的历史,该驱动条件数据包括向各电源部指示的输出指令数据并至少包括剩余寿命的
预测结果作为各的特性的预测结果以及机器学习装置。在此,机器学习装置具备
状态量观测部、动作结果获取部、学习部以及意思决定部。
在机器学习装置中,学习部接收来自状态量观测部的输出、来自动作结果获取
部的输出,将至少包括剩余寿命的预测结果作为各的特性的预测结果的驱动条
件数据与激光装置的状态量及驱动条件数据的结果相关联地进行学习,该状态量观测
部对包括来自光输出特性记录部和驱动条件状态量记录部的输出数据的激光装置的
状态量进行观测,该动作结果获取部获取驱动条件状态量记录部中记录的至少包括各
的剩余寿命的预测结果的的特性的预测结果以及各的光输出特性的测定
结果来作为驱动条件数据的结果,意思决定部参照学习部的学习结果,决定并输出
说明书页
包括向各电源部指示的输出指令数据并至少包括剩余寿命的预测结果作为各的特
性的预测结果的驱动条件数据。
在一边改变驱动条件一边驱动各的情况下,由于驱动条件的历史也造成影
响,因此无法准确地掌握剩余寿命减少了多少,例如,也无法准确地获知使各的剩余
寿命的总和减少量最小的对各的驱动电流的分配条件。但是,通过的驱动条件
的历史、光输出特性的历史不同的各种条件下的驱动,来将至少包括剩余寿命的预测结
果作为各的特性的预测结果的驱动条件数据与激光装置的状态量及驱动条
件数据的结果相关联地进行学习,由此的剩余寿命的预测精度提高,即使对于在各种
驱动条件下被驱动的,也能够以准确地预测出剩余寿命的变化的最佳驱动条件来驱
动
另外,从机器学习装置输出并记录在驱动条件状态量记录部中的驱动条件
数据还包括各的光输出特性的预测结果作为各的特性的预测结果,作为驱
动条件数据的结果由动作结果获取部获取的数据包括各的光输出特性的预测结
果,学习部也能够将至少包括剩余寿命的预测结果和光输出特性的预测结果作为各
的特性的预测结果的驱动条件数据与激光装置的状态量及驱动条件数据的结果
相关联地进行学习。光输出特性始终能够准确地被测定而能够验证预测的精度,并且光输
出特性与剩余寿命之间关联性强,如,在以规定的驱动电流无法得到规定的光输出的时间
点设为寿命耗尽、剩余寿命一小时。另一方面,关于剩余寿命,除了寿命末期,至少在学习
初期难以验证剩余寿命的预测结果是否正确。因而,期望的是,使的特性的预测结果
也包括光输出特性的预测结果,来提高的光输出特性的预测精度,从而使得的
乘余寿命的预测精度提高。
此外,关于剩余寿命,并非完全不知道会变为什么样的学习结果,在的驱动
电流与标准驱动条件不同的情况下,可以预想到进行学习的结果是获得如图那样的学习
结果。在图中,横轴是的实际的驱动时间,纵轴表示对寿命的负荷率。标准驱动电流
是,当设以驱动时的终生寿命为、以持续驱动的情况下的终生寿命为时,以
驱动时的对寿命的平均负荷率为倍。但是,可以认为以驱动时的对寿命的实际负荷
率与虚线所示的平均负荷率不同,定性地说是以曲线表示的形状,随着有效累积驱动时间
经过而劣化逐渐严重,对寿命的负荷率越大。在对以驱动时的对寿命的实际负荷率从时
间至进行积分所得到的有效累积驱动时间确实为,但是若以平均的对寿命的负荷率
来考虑,则存在招致以下事态的担忧不仅在寿命的中途过大评价有效累积驱动时间、过小
评价剩余寿命,还在寿命后期过小评价使驱动电流增加时的对寿命的负荷率的增加,使特
定的的剩余寿命高于预期地减少。因而,图所示的曲线虽然仅示出了概念,但是会通
过机器学习来获得正确的关系。但是,在此仅说明了相对于标准驱动电流使驱动电流为
的情况,但是不仅对于其它驱动电流也需要获得正确的关系,而且在如后所述那样
的温度等不同的情况下也需要获得正确的关系,因此为了在整个生命中预测以各种条件
驱动的的剩余寿命,依然需要庞大的数据,以无需人介入的方式学习的意义大,这一
点是不变的。
此外,意思决定部决定并输出适合于对激光装置的光输出指令的驱动条件
数据,并且在存在与各的驱动有关的设定条件或制约条件的情况下,意思决定部
说明书页
决定并输出也适合于设定条件的驱动条件数据。例如,在设定了以使各的剩余寿
命的减少量的总和最小的方式驱动这一条件的情况下,意思决定部以使参照学习
部的学习结果而预测出的各的剩余寿命的减少量的总和最小的方式,决定并输出
对各分配驱动电流的驱动条件数据。能够参照通过以使预测结果的误差变小的方
式学习至少包括剩余寿命的预测结果作为各的特性的预测结果的驱动条件数据
等所得到的学习结果,来进行各的剩余寿命的预测。具体的学习方法在后面叙述。此
外,期望的是,预先从控制部等向机器学习装置的状态量观测部等输入各的容许
光输出范围、来自光检测部的输出与来自激光装置的光输出之间的关系等激光装置的基
本信息。
基于驱动条件数据射出的激光既可以是脉冲光也可以是光,还可以是在
光上叠加脉冲光后的波形,不对输出波形进行限定。
此外,作为将来自多个的激光按原样作为激光光源的激光装置,存在直
接二极管激光装置等,作为将来自多个的激光作为激励光源的激光装置,存在光
纤激光装置等,但是并不限定于这些激光装置。
在图中,空心的箭头模拟地表示激光的光线,但是不限定于在空间中传播的光
线,例如,习各在光纤内传播的光线等也包含在内地模拟地示出。从激光装置输出的激光
也同样,模拟性地示出也包括具备加工头的构造的含义,该加工头构成为激光在光纤内
传播后在光纤的终端激光在加工对象物的大致表面聚焦。
另外,在图中,示意性地记载为光从激光光学系统入射到光输出检测部,但是,
在光在空间中传播的情况下,例如能够利用半透半反镜使光分支后检测光的一部分,或者,
在光在光纤内传播的情况下,例如能够检测使用光分支器分支出的来自光纤的终端的光或
检测从光纤的包层泄漏的光,光入射到光输出检测部的入射构造不限定于图所示的构造。
另外,的个数不限定于如图所示的个。只要是多个,则可以是人任意个数。
并且,在图中,记载为激光光学系统仅存在于激光装置内,但是,例如,模拟地
表示为将设置于光纤的终端的加工头的光学系统也包含在内的含义,该光纤以也延伸到激
光装置的外部的状态铺设,该激光光学系统用于使从激光装置输出的激光例如在加
工对象物的大致表面聚焦。因而,设激光光学系统具有因此而需要的光藕合、聚光、对焦等
功能。另外,设在将来自的激光作为激励光源的激光装置中也包括激励介质。另
外,期望的是,激光光学系统能够通过控制部来控制距加工对象物的表面的焦点位置等。
此外,在图中,由于图会变得不易观看,因此省略了从控制部向激光光学系统、
光输出检测部、光输出特性记录部、驱动条件状态量记录部的各部的控制信号线以及
从各部向控制部的状态传递线。
另外,状态量观测部和动作结果获取部是功能性模块,也能够认为是通过一
个模块来实现两者的功能。另外,光输出特性记录部和驱动条件状态量记录部也是功能
性模块,也能够认为是通过一个模块来实现两者的功能。
并且,光输出特性记录部和驱动条件状态量记录部中既可以是其中一个以上
设置于机器学习装置内,也可以是全部设置于机器学习装置内。
另外,期望的是学习部具有以下功能如图中以框图来示意性地表示数据流那
样,在测定出各的光输出特性的某个时间点。,基于时间点。的光输出特性、驱动条
说明书页
部中,价值函数更新部根据报酬来更新价值函数。此外,价值函数不限定于一种。
学习部以如下方式进行学习当剩余寿命的预测结果与估计结果之间的差异小
时给予正的报酬、当剩余寿命的预测结果与估计结果之间的差异大时给予负的报酬,由此
能够高精度地预测剩余寿命。并且,当光输出特性的预测结果与测定结果之间的差异小时
给予正的报酬,当光输出特性的预测结果与估计结果之间的差异大时给予负的报酬,由此
能够高精度地预测与剩余寿命之间关联性强的光输出特性,从而使得剩余寿命的预测精度
提高。
接着,说明本实施方式的激光装置所具备的机器学习装置的动作的一例。图
和图是表示图所示的机器学习装置的动作的一例的流程图。
如图和图所示,在图所示的机器学习装置中,当学习动作学习处理开始
时,首先,判定是否存在对激光装置的光输出指令步骤,在激光装置存在光输出指
令的情况下,利用状态量观测部观测包括来自驱动条件状态量记录部及光输出特性记
录部的输出数据的激光装置的状态量步骤,学习部参照反映了学习结果的价值
函数,来预测因执行包括电源部中的输出指令的驱动电流数据而引起的各的至
少剩余寿命的变化,从意思决定部输出符合激光装置中设定的条件的、至少包括各
的剩余寿命的预测结果的驱动电流数据步骤。从意思决定部输出的至少包括
各的剩余寿命的预测结果的驱动电流数据被追加写入到驱动条件状态量记录部
,并且被输入到控制部步骤,控制部将包括对电源部的输出指令的驱动电流
数据输出到包括激光装置的电源部在内的各部,被驱动而从激光装置射出激光
步骤。在该时间点,按规定的时间表来判定是否为测定光输出特性的定时步骤
。在步骤中的判定为激光装置不存在光输出指令的情况下,进入步骤,如果
步骤中的判定为不是测定光输出特性的定时,则返回到步骤。若果步骤中的
判定为是测定光输出特性的定时,则基于从电源部提供到各的驱动电流和来自光输
出检测部的输出来测定各的光输出特性,追加写入到光输出特性记录部步骤
。
并且,学习部从状态量观测部接收测定出各的光输出特性的时间点下
的包括来自驱动条件状态量记录部和光输出特性记录部的输出数据的激光装置的状态
量,并且从动作结果获取部接收各的光输出特性的测定结果和驱动电流数据中
包括的各的特性的预测结果作为驱动电流数据的结果,参照反映了学习结果的价
值函数,来估计各的剩余寿命步骤。判定各的剩余寿命的估计结果与
驱动电流数据中包括的各的剩余寿命的预测结果之间的差异步骤,报酬计算
部在各的剩余寿命的估计结果与预测结果之间的差异小于规定的值或规定的比率
的情况下根据差异的值或比率的小的程度给予正的报酬步骤,在剩余寿命的预测结
果与估计结果之间的差异大于规定的值或规定的比率的情况下根据差异的值或比率的大
的程度给予负的报酬步骤。接着,判定驱动条件数据是否也包括各的光输
出特性的预测结果步骤,在驱动条件数据也包括各的光输出特性的预测结
果的情况下,判定各的光输出特性的预测结果与测定结果之间的差异步骤,报
酬计算部在各的光输出特性的预测结果与测定结果之间的差异小于规定的值或规
定的比率的情况下根据差异的值或比率的小的程度给予正的报酬步骤,在光输出特
说明书页
件状态量记录部中记录的到时间点。为止的驱动条件数据的历史及激光装置的状
态量的历史、以及光输出特性记录部中记录的到时间点。为止的各的光输出特性的
历史,参照至少包括剩余寿命的预测结果作为各的特性的预测结果的驱动条件数
据的学习结果,来估计时间点。下的各的剩余寿命。在某个时间点。,除了考虑至今为
止的光输出特性、驱动条件数据的历史、激光装置的状态量的历史以外,还考虑时间点
。下的最新的各的光输出特性的数据,来估计各的剩余寿命,由此能够得到与
在以前的时间点预测出的剩余寿命相比精度高的剩余寿命。
另外,机器学习装置能够使输入到状态量观测部的激光装置的状态量包括来
自对各和或与各热连接的构件的温度进行检测的一个以上的温度检测部的
输出数据、来自对用于冷却各的制冷剂的温度进行检测的制冷剂温度检测部的输出
数据、来自对各的环境温度进行检测的环境温度检测部的输出数据、来自对制冷剂的
流量进行检测的流量检测部的输出数据、来自对各的环境湿度进行检测的湿度检测
器的输出数据中的一个以上的输出数据。
例如,如图所示,当在所热连接的冷却板的配管内如粗箭头那样流通
冷却水等制冷剂来对进行冷却时,从制冷剂的流入侧到流出侧制冷剂温度因的
发热而上升,产生温度梯度,利用温度检测部来测定各附近的冷却板的温度,取
入各的温度条件来作为激光装置的状态量,由此将当以高温驱动时寿命短等温度条
件也纳入考虑,能够进行精度高的光输出特性、剩余寿命的变化量的预测和恰当的学习。另
外,虽然在图中没有记载,但是如果在周边设置湿度检测部等,则能够将有可能影响
的寿命的周边的湿度也纳入考虑来进行学习。
〕如以上那样,在图所记载的机器学习装置中,如图中以框图示意性地表示数据
流那样,学习部具有决定至少包括剩余寿命的预测结果作为各的特性的预测结果
的驱动条件数据的价值的价值函数,能够具备报酬计算部和价值函数更新部,在从
某个时间点。到晚于时间点。的时间点的期间作为向各指示的驱动条件数据的
结果而预测或估计出的各的剩余寿命中的、对时间点的预测结果与时间点下的估
计结果之间的差异在图中,最右侧的双箭头所指的预测剩余寿命与估计剩余寿命之间的
差异小于规定的值或规定的比率的情况下,报酬计算部根据差异的值或比率的小的程
度给予正的报酬,在剩余寿命的预测结果与估计结果之间的差异大于规定的值或规定的比
率的情况下,报酬计算部根据差异的值或比率的大的程度给予负的报酬,其中,对时间点
的预测结果是以时间点。下的估计结果为起点进行预测得到的,被记录在驱动条件状态
量记录部中,并且,在驱动条件数据包括光输出特性的预测结果作为各的特性的
预测结果的情况下,如图中以框图示意性地表示数据流那样,在从时间点。到时间点的
期间作为向各指示的驱动条件数据的结果而获取到的各的光输出特性中
的、对时间点的预测结果与时间点下的测定结果之间的差异在图中,上侧的最右侧的
双箭头所指的上侧的预测出的光输出特性与下侧的测定出的光输出特性之间的差异小于
规定的值或规定的比率的情况下,报酬计算部根据差异的值或比率的小的程度给予正的
报酬,在光输出特性的预测结果与测定结果之间的差异大于规定的值或规定的比率的情况
下,报酬计算部根据差异的值或比率的大的程度给予负的报酬,其中,对时间点的预测
结果是以时间点。下的测定结果为起点进行预测得到的,被记录在驱动条件状态量记录
说明书页
性的预测结果与测定结果之间的差异大于规定的值或规定的比率情况下根据差异的值或
比率的大的程度给予负的报酬步骤,在价值函数更新部中,根据报酬来更新价值
函数步骤,返回到步骤,再次执行步骤以后的流程。在步骤的判定中
驱动条件数据不包括各的光输出特性的预测结果的情况下,直接进入步骤。
通过重复以上的步骤一,学习部持续更新价值函数或后述的行动价值
表来进行学习。如前所述,价值函数不限定于一种。
此外,在的寿命耗尽时,剩余寿命一小时,对与剩余时间的预测结果之间的
差异、误差进行评价的对象不是剩余时间的估计结果,而是实际的剩余时间一小时。另
外,也可以是,根据的光输出特性的测定定时,在估计为光输出特性测定时以前寿命
已耗尽的情况下,估计剩余寿命是负的几小时。
另外,也可以是,在光输出特性的测定结果的变化小于测定误差的情况下等,不在
每次测定出的光输出特性时进行价值函数、学习模型的更新,而只对驱动条件状态
量记录部追加写入驱动条件数据、激光装置的状态量、剩余寿命的预测结果、光输出
特性的预测结果,在光输出特性的测定结果的变化变为大于测定误差的规定大小的时间
点,计算报酬、误差来进行价值函数、学习模型的更新。
机器学习包括有监督学习、无监督学习、强化学习等算法,但是根据行动驱动
条件数据的输出会对环境各的剩余寿命等激光装置的状态量造成影响,因此可
以认为期望的是通过观测周围的环境来学习应该怎样行动的强化学习。通过对环境造成影
响并从环境以报酬的形式得到反馈来进行学习,因此即使无法作为输出数据直接给出
的剩余寿命、无法以成对的方式给出用于学习的适当的输入数据和输出数据,也能够灵活
运用强化学习的平衡性好地选择逐渐开拓未知的学习领域的行动和利用已知的学习领域
的行动这一特征,通过一系列行动来学习得到最多报酬的方策。
此外,关于剩余寿命,以从能够根据寿命实际耗尽来验证剩余寿命的预测是否准
确的寿命末期起沿寿命后期、寿命中期、寿命初期的方向回溯寿命的方式,预测精度佳的范
围逐渐扩大,因此认为到学习至在整个生命中都能够高精度地估计为止需要非常庞大的数
据,因此也可以通过有监督学习来进行事先学习。
在有监督学习中,如图所记载的机器学习装置那样,学习部具有学习至少包
括剩余寿命的预测结果作为各的特性的预测结果的驱动条件数据的学习模型,能
够具备误差计算部和学习模型更新部,误差计算部计算在从时间点。到时间点的
期间作为向各指示的驱动条件数据的结果而预测或估计出的各的剩余寿命
中的、对时间点的预测结果与时间点下的估计结果之间的误差在图中,最右侧的双箭
头所指的预测剩余寿命与估计剩余寿命之间的误差,其中,对时间点的预测结果是以时
间点。下的估计结果为起点进行预测得到的,被记录在驱动条件状态量记录部中,并且,
在驱动条件数据中包括光输出特性的预测结果作为各的特性的预测结果的情况
下,误差计算部计算在从时间点。到时间点的期间作为向各指示的驱动条件
数据的结果而获取到的各的光输出特性中的、对时间点的预测结果与时间点下的
测定结果之间的误差在图中,上侧的最右侧的双箭头所指的上侧的预测出的光输出特性
与下侧的测定出的光输出特性之间的误差,其中,对时间点的预测结果是以时间点。下
的测定结果为起点进行预测得到的,被记录在驱动条件状态量记录部中,学习模型更新
说明书页
部根据误差来更新学习模型。
图表示应用了有监督学习的激光装置的例子,根据前述的图的比较可以明确
的是,相对于图所示的应用了强化学习的激光装置,图所示的应用了有监督学习的激光
装置还具备带结果标签数据记录部。另外,应用了有监督学习的激光装置中的机器
学习装置具备状态量观测部、动作结果获取部、学习部以及意思决定部,学习部
包括误差计算部和学习模型更新部。
学习部以计算剩余寿命的预测结果与估计结果之间的误差、以使误差变小的方
式更新学习模型由此能够高精度地预测剩余寿命的方式进行学习。并且,计算光输出特性
的预测结果与测定结果之间的误差,以使误差变小的方式更新学习模型,由此能够高精度
地预测与剩余寿命之间关联性强的光输出特性,从而能够使得剩余寿命的预测精度提高。
通过提供用于学习的适当的输入数据与输出数据的对,能够比较容易地推进学习。
在强化学习中,从完全不知道或者仅不完全地知道行动所引起的结果的状态起开
始学习,但是如前所述,可以认为到学习至在整个生命中都能够高精度地估计剩余寿命为
止需要非常庞大的数据,因此期望的是,通过有监督学习来进行事先学习,以事先学习后的
状态为初始状态,从条件佳的开始地点起开始强化学习。在有监督学习中,提供用于学习的
适当的输入数据与输出数据的对,生成映射输入数据以及应该与其对应的输出数据的函数
学习模型。在有监督学习中,能够提供用于学习的适当的输入数据与输出数据的对,因此
具有与强化学习相比学习比较容易的优点。期望的是,在有监督学习中也是,特别是在学习
初期,以如驱动电流固定的情况、除驱动电流在终生寿命的前半和后半不同以外驱动电流
固定的情况这样的单纯的驱动条件数据来重复学习,由此学习驱动条件数据与激光
装置的状态量及驱动条件数据的结果的基本关系、或将基本的输入数据与输出数据的
对记录到带结果标签数据记录部,从而顺畅地推进学习。
图和图是表示图所示的机器学习装置的动作的一例的流程图。如图和图
所示,在图所示的机器学习装置中,当学习动作学习处理开始时,首先,判定是否存
在对激光装置的光输出指令步骤,在激光装置存在光输出指令的情况下,利用状
态量观测部观测包括来自驱动条件状态量记录部和光输出特性记录部的输出数据的
激光装置的状态量步骤,学习部参照反映了学习结果的学习模型,来预测因执行
包括电源部中的输出指令的驱动电流数据而引起的各的至少剩余寿命的变化,
从意思决定部输出符合激光装置中设定的条件的、至少包括各的剩余寿命的预测
结果的驱动电流数据步骤。从意思决定部输出的至少包括各的剩余寿命
的预测结果的驱动电流数据被追加写入到驱动条件状态量记录部,并且被输入到控
制部步骤,控制部将包括对电源部的输出指令的驱动电流数据输出到激光装
置,被驱动而从激光装置射出激光步骤。在该时间点,按规定的时间表来
判定是否为测定光输出特性的定时步骤。在步骤中的判定为激光装置不存在
光输出指令的情况下,进入步骤,如果步骤中的判定为不是测定光输出特性的定
时,则返回到步骤。如果步骤中的判定为是测定光输出特性的定时,则基于从电源
部提供到各的驱动电流和来自光输出检测部的输出来测定各的光输出特性,追
加写入到光输出特性记录部步骤。
并且,学习部从状态量观测部接收测定出各的光输出特性的时间点下
说明书页
〕另外,激光装置的控制部能够读出由意思决定部针对对于激光装置的光输
出指令而输出并记录到驱动条件状态量记录部的驱动条件数据,向电源部、激光光
学系统、光输出检测部、光输出特性记录部输出包括向电源部指示的输出指令数据的
驱动条件数据。在该情况下,可以在图、图或图所示的激光装置中追加从驱动条
件状态量记录部向控制部输出驱动条件数据的信号线。
〕虽然也要看机器学习装置的处理器的性能,但是可以考虑到以下情况从对激光
装置发出光输出指令到学习部从状态量观测部和动作结果获取部接收数据来决定要
输出的驱动条件数据为止需要时间。在这种情况下,如图中示意性地示出的那样表现
出从左侧向右侧的流程,当针对连续的多个光输出指令实时地射出激光时,存在驱动
条件数据的决定慢、无法顺畅地利用激光进行加工的可能性。因此,在实际射出激光之
前,针对一系列连续的光输出指令,预先进行上述的处理,决定要输出的驱动条件数据
并记录在驱动条件状态量记录部中,记录完之后,控制部读出该记录来向包括电源部
在内的激光装置的各部输出包括输出指令数据的驱动条件数据,这样的话,就能够针
对一系列光输出指令来无间断地射出遵循指令的激光。
〕最后,叙述图、图或图所示的机器学习装置的学习方法。
〕机器学习装置具备以下功能通过分析来提取输入到机器学习装置的数据的集
合中的有用的规则、法则、知识表述、判断基准等,输出其判断结果,并且进行知识的学习。
已知各种各样的机器学习的方法,但能够大致分为“强化学习”、“有监督学习”、“无监督学
习”等。并且,存在以下被称为“深层学习深度学习”的方法在实现上述
方法的基础上,对特征量本身的提取进行学习。图、图表示具备强化学习的机器学习装
置的激光装置的例子,图表示具备有监督学习的机器学习装置的激光装置的例子。
〕“强化学习”是指以下方法不仅学习判定、分类,还学习行动,由此基于行动对环
境造成的相互作用来学习恰当的行动、即学习使得在将来得到的报酬最大的学习的方法。
在本实施方式中,例如,驱动条件数据的输出这一行动的结果是对激光装置的状态量
环境造成影响,如的劣化逐渐严重、光输出特性变化、剩余寿命减少,通过观测周围
的环境来学习应该怎样行动,因此,想到了应用通过对环境造成影响并从环境以报酬的形
式得到反馈来进行学习的强化学习。
〕但是,强化学习从完全不知道或者仅不完全地知道行动所引起的结果的状态起开
始学习,从该状态起获得足以引起适当的行动的学习结果是不容易的。在本发明中,可以认
为到学习至在整个生命中都能够高精度地估计的剩余寿命为止需要非常庞大的数
据,因此期望的是,通过有监督学习来进行事先学习,以通过有监督学习等进行了事先学习
后的状态为初始状态,开始强化学习,其中,在有监督学习中,提供作为用于学习的适当的
输入数据与输出数据的对的带结果标签数据。
〕“有监督学习”是指以下的学习方法向机器学习装置大量提供某个输入与结果
标签的数据组,由此能够学习这些数据组所具有的特征,从而归纳性地获得根据输入来
估计结果的模型、即输入与结果的相关性。此外,可以认为仅利用有监督学习也具有一定的
学习效果,能够以某种程度的精度来预测的剩余寿命,因此强化学习并非是必需的,
也可以考虑使机器学习止于有监督学习的范围。
“无监督学习”是指以下方法仅向学习装置大量提供输入数据,由此学习输入数
说明书页
寿命减去晚于时间点、的某个时间点的估计剩余寿命所得到的时间作为将从时间点到
时间点为止的各的实际的驱动时间换算为标准驱动条件下的驱动时间所得到的各
的有效驱动时间,将时间点下的各的估计剩余寿命作为时间点下的各
的剩余寿命,来输出和或显示。
若通过学习,无论至今为止以什么样的驱动条件驱动,都能够估计出将到该
时间点为止的的驱动条件、激光装置的状态量等的全部历史也纳入考虑的剩余寿
命,则如图中示意性的图表所示,剩余时间的变化量为将实际的驱动时间换算为标准驱
动条件下的驱动时间所得到的各的有效驱动时间。当知道各的有效驱动时间
时,只要时间点是出厂前的规定的检查工序完成的时间点或出厂后第一次驱动的
时间点,则有效驱动时间就成为有效累积驱动时间,因此在有寿命的期间,能够检查估计终
生寿命一有效累积驱动时间估计剩余寿命是否示出异常的值,在寿命耗尽的时间点,能够
得到标准驱动条件下的的寿命保证、高精度地与平均终生寿命进行比较等,而且能够
得到与的可靠性的评价、改进有关的准确的寿命相关信息。
〕另外,激光装置的意思决定部能够设定为选择四个驱动条件模式中的至少一
个驱动条件模式的条件或者在驱动条件模式之间切换驱动条件模式的条件,其中,意思决
定部针对对于激光装置的光输出指令,参照学习部的学习结果,输出包括各的
乘余寿命和光输出特性的预测结果的驱动条件数据,所述四个驱动条件模式是输出预
测为因驱动导致的各的剩余寿命的减少量的总和为最小值的驱动条件数据
的驱动条件模式寿命最优先模式输出在预测为各的剩余寿命的减少量的总和为
最小值的规定倍率以下的条件范围内激光装置整体的光电变换效率为大致最大效率的
驱动条件数据的驱动条件模式效率优先模式输出预测为在激光装置整体的光电变
换效率相对于最大效率的下降率为规定下降率以下这一条件范围内各的剩余寿命的
减少量的总和为最小值的驱动条件数据的驱动条件模式寿命优先模式以及输出预
测为各的剩余寿命的减少量与各的剩余寿命成比例的驱动条件数据的驱动
条件模式同时更换模式。
〕当能够准确地预测因驱动导致的剩余寿命的减少量时,能够以如上所述的
驱动条件模式来驱动。当选择寿命最优先模式时,能够实现长寿的激光装置,当选择
效率优先模式时,能够实现考虑寿命但是也高效的激光装置,当选择寿命优先模式时,能
够实现考虑效率但是也长寿的激光装置,当选择同时更换模式时,全部的寿命大致
同时耗尽,因此具有能够减少用于更换的维护次数的优点。能够选择符合用户期望的驱
动条件模式来设定,因此顾客满足度变高。通过在中途切换驱动条件模式、例如变为寿命后
期后切换为同时更换模式,能够进行长寿且的更换时期相同等的设定。此外,在测定
的光输出特性时,测定从电源部提供到各的驱动电流并且测定对施加的
施加电压,由此根据光电变换效率一光输出驱动电流施加电压来求出光电变换效率。
机器学习装置从控制部接收对控制部设定的如上所述的条件,决定并输出激光装置能
够射出所指示的光输出并且符合所设定的条件的驱动条件数据。
此外,光电变换效率高的有剩余寿命长、伴随驱动的劣化剩余寿命的减少
也少的倾向,因此可以认为无论选择上述的哪个模式,都有对光电变换效率高的分配
多的驱动电流的趋势,但是不明确定量地说多分配多少才能够以希望的模式驱动各。
说明书页
的包括来自驱动条件状态量记录部及光输出特性记录部的输出数据的激光装置的状态
量,并且从动作结果获取部接收各的光输出特性的测定结果和驱动电流数据中
包括的各的特性的预测结果作为驱动电流数据的结果,参照反映了学习结果的学
习模型,来估计各的剩余寿命步骤。误差计算部计算各的剩余寿命的
估计结果与驱动电流数据中包括的各的剩余寿命的预测结果之间的误差步骤
。接着,判定驱动条件数据是否也包括各的光输出特性的预测结果步骤
,在驱动条件数据也包括各的光输出特性的预测结果的情况下,各误差计算
部计算的光输出特性的预测结果与测定结果之间的误差步骤。接着,学习模
型更新部根据误差来更新学习模型步骤,返回到步骤,再次执行步骤以后
的流程。在步骤的判定中驱动条件数据不包括各的光输出特性的预测结果的
情况下,直接进入步骤。
通过重复以上的步骤一,学习部持续更新学习模型来进行学习。
此外,在激光装置中,期望的是,如图、图中示意性的框图所示,根据来自控制
部的指令,按规定的时间表,个别地测定各的相对于驱动电流的施加电压与光输出
的关系,将测定时间点的各的光输出特性追加写入到光输出特性记录部。通过按规
定的时间表来个别地驱动各、测定各的光输出特性来追加写入到光输出特性记
录部,来记录光输出特性作为从机器学习装置输出的驱动条件数据的结果在光输出
特性的测定间隔之间是如何逐渐地变化的这样的历史,状态量观测部接收将光输出特性的
历史也包括在内的激光装置的状态量,由此能够准确地学习光输出特性的历史对驱动
条件数据的结果造成的影响。另外,通过测定出各的光输出特性的时间点下的各
的剩余寿命的预测结果与估计结果的对照、各的光输出特性的测定结果与预测结果
的对照,学习机会增加,推进各的剩余寿命、光输出特性的预测精度的提高。
另外,期望的是,激光装置具备多个光输出检测部,能够同时测定多个的
光输出特性。这是由于,为了增加机器学习装置的学习机会,期望的是,利用对激光装置
的光输出指令的间歇等来比较频繁地实施各的光输出特性的测定。因此,要求能够短
时间地进行光输出特性的测定,而通过具备多个光输出检测部,能够同时进行多个
的光输出特性的测定,从而能够缩短全部的光输出特性的测定所需的时间。并且,为
了能够同时测定全部的光输出特性,期望的是,如图所示,除了测定从激光装置射
出的激光的光输出的光输出检测部以外,还针对各分别具备一个以上的光输出检
测部。通过针对各分别具备一个以上的光输出检测部,即使在激光装置射出激光
以进行被加工对象物江件的激光加工时,虽然无法获取如在规定的驱动电流整个范围
内的各的光输出的各驱动电流依赖性那样的完全的光输出特性,但是能够测定针对
驱动中的某个驱动电流的光输出,因此能够测定各的光输出特性。在本说明书中,也
可以使的光输出特性测定包括这种针对某一个驱动电流的的光输出的测定。另
外,也可以使的光输出特性的测定结果包括这种针对某一个驱动电流的的光输
出的测定结果。
另外,激光装置的学习部将参照学习结果而估计出的各的估计剩余寿命
作为至少包括剩余寿命的预测结果作为各的特性的预测结果的驱动条件数据的
结果追加写入到驱动条件状态量记录部,激光装置能够将从某个时间点、的估计剩余
说明书页
该更新式示出了以下情况与环境下的行动的评价值,相比,如果基于行
动的下一个环境状态下的最好的行动的评价值十,十大,则使,变大,相
反地,如果基于行动的下一个环境状态下的最好的行动的评价值十,十小,则使
,变小。即,使某种状态下的某种行动的价值接近基于该行动的下一个状态下的最好
的行动的价值。
在此,,在计算机上的表达方法包括以下方法针对全部状态行动对,,
将其值保持为行动价值表以及准备对,进行近似那样的函数。在后者的方法中,能够
通过利用随机梯度下降法等方法逐渐调整近似函数的参数来实现前述的式。此外,作为
近似函数,能够使用神经网络。
接着,记载有监督学习的应用。有监督学习是指向机器学习装置大量提供某个
输入与结果标签的数据组,由此能够学习这些数据组所具有的特征,从而归纳性地获得
根据输入来估计结果的模型、即输入与结果的相关性。
进行有监督学习的机器学习器的动作包括学习阶段和预测阶段这两个阶段。在学
习阶段,进行有监督学习的机器学习器当提供包括被用作输入数据的状态变量说明变量
的值以及被用作输出数据的目的变量的值的监督数据时,学习在被输入状态变量的值时输
出目的变量的值,通过提供多个这种监督数据来构建用于输出与状态变量的值相对的目的
变量的值的预测模型。然后,在预测阶段,进行有监督学习的机器学习器在被提供新的输入
数据状态变量时,按照学习结果所构建的预测模型来预测输出数据目的变量并将其
输出。在此,带结果标签数据记录部能够保持至今为止得到的带结果标签数据,将带
结果标签数据提供到误差计算部。或者,也能够通过存储卡、通信线路等将激光装置
的带结果标签数据提供到该激光装置的误差计算部。
作为进行有监督学习的机器学习器的学习的一例,例如设定如下面的式所示
的预测模型的回归式,在学习的过程中,以在将各状态变量、、,…所取的值代入到回
归式时得到目的变量的值的方式调整各系数。、、、、…的值,由此推进学习。此外,学
习的方法不限于此,按有监督学习的算法而不同。
。……
作为有监督学习的算法,众所周知神经网络、最小二乘法、逐步法
等各种方法,作为应用于本发明的方法,可以采用任一个有监督学习算法。此外,各
有监督学习算法是众所周知的,因此省略本说明书中的各算法的详细说明。
〕此外,如前所述,作为强化学习中的价值函数的近似算法、或者有监督学习、无监
督学习的学习模型,能够使用神经网络,因此机器学习装置优选具有神经网络。
〕图是示意性地表示神经元的模型的图,图是示意性地表示将图所示的神经
元进行组合而构成的三层的神经网络的图。神经网络由模仿如图所示的神经元的模型的
运算装置和存储器等构成。神经元输出针对多个输入的输出结果。对各输入一
赋予与该输入对应的权重一,神经元输出通过下面的式表达的结果。此外,输
入、结果以及权重均是矢量。
拄
嘿。、一刃川勺
说明书页
在此,是偏置,是激活函数。
如图所示,从神经网络的左侧输入多个输入一,从右侧输出结果一
。输入一被赋予与个神经元一分别对应的权重后被分别输入到个神经元一
。对这些输入赋予的权重被统一标记为。
神经元一分别输出一。在图中,这些一被统一标记为特征矢量
,能够视为提取输入矢量的特征量所得到的矢量。该特征矢量是权重与权重之间的
特征矢量。一被赋予与个神经元及分别对应的权重后被分别输入到个神经元
及。对这些特征矢量赋予的权重被统一标记为。神经元、分别输出、。在图
中,这些、被统一标记为特征矢量。该特征矢量是权重与权重之间的特征矢
量。、被赋予与个神经元一分别对应的权重后被分别输入到个神经元一。
对这些特征矢量赋予的权重被统一标记为。
最后,神经元一分别输出结果一结果。神经网络的动作中存在学习模式
和价值预测模式,在学习模式下使用学习数据组来学习权重,使用该参数来在预测模式下
进行驱动条件数据的输出的行动判断。在此,也能够进行在线学习一
和批量学习,在在线学习中,在预测模式下立即学习实际进行驱动条
件数据的输出所得到的数据,使该数据反映到下一次行动中,在批量学习中,使用预先收集
到的数据群来进行集中的学习,以后一直以该参数进行探测模式。也能够每当数据积攒到
某种程度就插入学习模式。
〕另外,能够通过误差反向传播法叩来学习权重一。此外,误差
的信息从右侧进入而流向左侧。误差反向传播法是以下方法针对各神经元,以减小输入了
输入时的输出与真正的输出监督之差的方式调整学习各个权重。
〕图的神经网络的中间层隐藏层是层,但是也能够设为层以上,在中间层为
层以上的情况下被称为深层学习。
以上,叙述了强化学习和有监督学习的应用,但是应用于本发明的机器学习方法
不限定于这些方法,能够应用作为能够在机器学习装置中使用的方法的“有监督学习”、
“无监督学习”、“半有监督学习”以及“强化学习”等之类的各种方法。
〕此外,上述的实施方式的激光装置如图、图或图所示那样针对个激光装置
具备个机器学习装置。但是,在本发明中,激光装置和机器学习装置各自的数量不限定
于个。优选的是,存在多台激光装置,设置于各激光装置的多个机器学习装置经由通信
介质来相互共用或交换数据。通过各激光装置共用包括获取到的学习结果的数据,能够利
用更短时间得到精度高的学习效果,输出更适当的驱动条件数据。
〕并且,机器学习装置既可以存在于激光装置内也可以存在于激光装置外,还可
以由多个激光装置共用机器学习装置。机器学习装置也可以存在于云服务器上。不仅能
够共用学习效果,还能够集中管理数据并且利用大规模的高性能处理器来进行学习,学习
速度、学习的精度提高,能够输出更适当的驱动条件数据。另外,决定要输出的驱动
条件数据所需的时间也能够缩短。在这些机器学习装置中,也可以使用通用的计算机或处
理器,但是若应用一
通用计算图形处理器、大规模集群等,则能够更高速地进行处理。
发明的效果
说明书页
〕在第发明中,通过单元的驱动条件的历史、光输出特性的历史不同的各
种条件下的驱动,来将至少包括剩余寿命的预测结果作为各的特性的预测结果的
驱动条件数据与激光装置的状态量及驱动条件数据的结果相关联地进行学习,由此
的剩余寿命的预测精度提高,即使对于在各种驱动条件下被驱动的,也能够以准确
地预测出剩余寿命的变化的最佳驱动条件来驱动。
〕在第发明中,使的特性的预测结果也包括光输出特性的预测结果,由此能够
提高的光输出特性的预测精度,从而使得的剩余寿命的预测精度提高。这是由于,关
于剩余寿命,除了寿命末期,至少在学习初期难以验证剩余寿命的预测结果是否正确,而光
输出特性始终能够准确地被测定而能够验证预测的精度,并且与剩余寿命之间关联性强,
如,在以规定的驱动电流无法得到规定的光输出的时间点设为寿命耗尽、剩余寿命一小
时。
在第发明中,在某个时间点、例如时间点。,除了考虑至今为止的光输出特性、
驱动条件数据、激光装置的所述状态量的历史以外,还考虑上述某个时间点下的最新的
各的光输出特性的数据,来估计各的剩余寿命,由此能够得到与在以前的时间点预
测出的剩余寿命相比精度高的剩余寿命。
在第发明中,测定或与热连接的构件的温度,取入各的温度条件来作
为激光装置的状态量。由此,例如,从制冷剂的流入侧到流出侧制冷剂温度因的发热而
上升,产生温度梯度,能够将当以高温驱动时的终生寿命变短等温度条件也纳入其
中来进行恰当的驱动条件数据的学习,精度高的的残留寿命的预测精度提高。另外,
能够将有可能影响的寿命的周边的温度、湿度也纳入考虑来进行学习。
〕在第发明中,学习部以如下方式进行学习当剩余寿命的预测结果与估计结果之
间的差异小时给予正的报酬,当剩余寿命的预测结果与估计结果之间的差异大时给予负的
报酬,由此能够高精度地预测剩余寿命。并且,当光输出特性的预测结果与测定结果之间的
差异小时给予正的报酬,当光输出特性的预测结果与测定结果之间的差异大时给予负的报
酬,由此能够高精度地预测与剩余寿命之间关联性强的光输出特性,从而使得剩余寿命的
预测精度提高。通过对环境造成影响并从环境以报酬的形式得到反馈来进行学习,由此即
使无法以成对的方式给出用于学习的适当的输入数据和输出数据,也能够推进学习。
〕在第发明中,学习部以如下方式学习计算剩余寿命的预测结果与估计结果之间
的误差,以使误差变小的方式更新学习模型,由此能够高精度地预测剩余寿命。并且,计算
光输出特性的预测结果与测定结果之间的误差,以使误差变小的方式更新学习模型,由此
能够高精度地预测与剩余寿命之间关联性强的光输出特性,从而能够使得剩余寿命的预测
精度提高。通过提供用于学习的适当的输入数据与输出数据的对,能够比较容易地推进学
习。
在第发明中,通过具备机器学习装置的激光装置,例如,对于如下等的设定条件,
能够以最佳的驱动条件驱动各,该设定条件是针对对激光装置的某个光输出指令、以使
各的剩余寿命的减少量的总和最小的方式对各分配驱动电流的条件。
〕在第发明中,通过按规定的时间表来个别地驱动各、测定各的光输出特性
来追加写入到光输出特性记录部,来记录光输出特性作为从机器学习装置输出的驱动
条件数据的结果在光输出特性的测定间隔之间是如何逐渐地变化这样的历史,状态量观测
说明书页
据是如何分布的,即使不提供对应的监督输出数据也利用对输入数据进行压缩、分类、整形
等的装置进行学习。在未预先决定“应该输出的数据”这一点上与有监督学习不同。用于提
取存在于数据背后的本质性构造。
首先,记载强化学习的应用。可以考虑如下那样进行强化学习的问题设定。
 激光装置的机器学习部观测包括激光装置的状态的环境的状态,决定行动
驱动条件数据的输出。
 环境按照某种规则发生变化,并且也存在行动使环境发生变化的情况。
 在每次行动时都有报酬信号返回来。
 想要最大化的是到将来的报酬的总和。
 从完全不知道或者仅不完全地知道行动所引起的结果的状态起开始学习。
作为强化学习的代表性方法,已知学习、学习。下面,以学习的情况来进行说
明,但是不限定于学习。
学习是学习在某种环境状态下选择行动的价值,的方法,在某种状态
时,习各价值,最高的行动选作最佳的行动即可。但是,最初,关于状态与行动的组
合,不知道价值,的正确的值,因此智能体行动主体在某种状态下选择各种行动,
并对此时的行动给予报酬。由此,智能体逐渐学习更好的行动的选择、即正确的价值,
。
并且,行动的结果是想要使到将来得到的报酬的总和最大化,因此最终目标是使
得,一「艺〕。在此,“「〕”表示期待值,是时刻,是在后面叙述的被称为折
扣率的参数,是时刻下的报酬,艺是基于时刻的总和。设在按照最佳的行动发生状态变
化时取该式中的期待值,由于尚不知道该期待值,因此一边探索一边学习。例如能够通过下
述的式来表示这种价值,的更新式。
即,价值函数更新部使用下述的式来更新价值函数,。
〕纸,外八卜“恤场瞥外。扮甄,、
〕在此,表示时刻下的环境的状态,表示时刻下的行动。通过行动,,状态变化
为十。十表示通过该状态的变化而得到的报酬。另外,带有的项为在状态十下将选择
当时知道的值最高的行动时的值与相乘而得到的项。在此,是以共的参数,被称
为折扣率。另外,是学习系数,设为以共的范围。
〕上述的式表示了以下方法基于作为尝试的结果而返回来的报酬十,来对
状态下的行动的评价值,进行更新。即,示出了以下情况与状态下的行动的
评价值,相比,如果报酬十与基于行动的下一个状态下的最好的行动的评价
值十,十的总和大,则使,变大,相反地,如果报酬十与基于行动的下一
个状态下的最好的行动的评价值十,十的总和小,则使,变小。也就
是说,使某种状态下的某种行动的价值接近基于作为结果而立即返回的报酬以及该行动的
下一个状态下的最好的行动的价值。
〕当为了方便而将学习系数和折扣率设为时,如下述的式那样表示。
试朴、砚斌际,”咬
cNlo7181163A说明书页
部接收将光输出特性的历史也包括在内的激光装置的状态量,由此能够准确地学习光输出
特性的历史对驱动条件数据的结果造成的影响。
〕在第发明中,为了增加学习机会,期望的是,利用对激光装置的光输出指令的间
歇等来比较频繁地实施各的光输出特性的测定。因此,要求能够短时间地进行光输出特
性的测定,而通过具备多个光输出检测部,能够同时进行多个的光输出特性的测定,从
而能够缩短全部的光输出特性的测定所需的时间。
〕在第发明中,若通过学习,无论至今为止以什么样的驱动条件驱动,都能够
估计出将到该时间点为止的的驱动条件、激光装置的状态量等的全部历史也纳入考虑
的剩余寿命,则剩余时间的变化量为将实际的驱动时间换算为标准驱动条件下的驱动时间
所得到的各的有效驱动时间,因此,在寿命耗尽的时间点,能够得到标准驱动条件下的
的寿命保证、高精度地与平均终生寿命进行比较等,而且能够得到与的可靠性的评
价、改进有关的准确的寿命相关信息。
〕在第发明中,当能够准确地预测因驱动导致的剩余寿命的减少量时,能够以
如上所述的驱动条件模式来驱动。当选择寿命最优先模式时,能够实现长寿的激光装
置,当选择效率优先模式时,能够实现考虑寿命但是也高效的激光装置,当选择寿命优先模
式时,能够实现考虑效率但是也长寿的激光装置,当选择同时更换模式时,全部的寿命
大致同时地耗尽,因此能够减少维护次数。能够选择符合用户期望的驱动条件模式来设定,
因此顾客满足度变高。通过在中途切换驱动条件模式、例如变为寿命后期后切换为同时更
换模式,能够进行长寿且的更换时期相同等的设定。
〕在第发明中,虽然也要看机器学习装置的处理器的性能,但可以考虑到以下情
况从对激光装置发出光输出指令到学习部从状态量观测部和动作结果获取部接收数据来
决定要输出的驱动条件数据为止需要时间。在这种情况下,当针对连续的多个光输出指
令实时地射出激光时,存在驱动条件数据的决定慢、无法顺畅地利用激光进行加工的可
能性。在实际射出激光之前,针对一系列连续的光输出指令,预先进行上述的处理,决定要
输出的驱动条件数据并记录在驱动条件状态量记录部中,记录完之后,控制部读出该
记录来向包括电源部在内的激光装置的各部输出包括输出指令数据的驱动条件数据,
由此,能够针对一系列光输出指令来无间断地射出遵循指令的激光。
〕在第发明中,通过各激光装置共用包括获取到的学习结果的数据,能够利用更
短时间得到精度高的学习效果,输出更适当的驱动条件数据。
〕在第发明中,不仅能够共用学习效果,还能够集中管理数据并且利用大规模的
高性能处理器来进行学习,学习速度、学习的精度提高,能够输出更适当的驱动条件数
据。另外,决定要输出的驱动条件数据的所需的时间也能够缩短。所述机器学习装置也
可以存在于云服务器上。
〕在第发明中,能够得到与第发明大致相同的效果。
〕在第发明中,能够得到与第发明大致相同的效果。
使用典型实施方式说明了本发明,但是本领域技术人员应该能够理解,能够不脱
离本发明的范围地进行前述的变更以及各种其它变更、省略、追加。
